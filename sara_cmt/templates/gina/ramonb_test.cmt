;
; SVN: {{ svn_id }}
;      {{ svn_url }}
;
; This file is automagically generated by CMTSARA
;
;             SARA - Computing and Networking Services
; Date        : August 17 2010
; Version     : {{ version }}
; Generated   : {% now "r" %}
;
{% load cmts_extras %}
{% load ramonb_extras %}
{# {% store /var/tmp/dns.nodes as output %} #}
{% store '/var/tmp/test-dns.admin.out' %}
{# {% noblanklines %} #}

{% use interface with 'network__name=lisa consoles' as ifaces_lisa_consoles %}
{% use interface with 'network__name=lisa admin' as ifaces_lisa_admin %}
{% use interface with 'network__name=lisa infiniband' as ifaces_lisa_infiniband %}
{% use interface with 'network__name=lisa switches' as ifaces_lisa_switches %}

@       IN      SOA     ns.irc.sara.nl. root.ns.irc.sara.nl. (
                                         {% now "YmjH" %}   ; Serial
                                        7200            ; Refresh
                                        600             ; Retry
                                        604800          ; Expire
                                        86400 )         ; Minimum
        IN      NS      ns.irc.sara.nl.
        IN      NS      ns2.irc.sara.nl.
{# {% endnoblanklines %} #}

$INCLUDE {{output}}.manual

{# {% noblanklines %} #}
{% for iface in ifaces_lisa_admin %}
{{ iface.label }}	IN	A	{{ iface.ip }}
{% if iface.cnames != None %}
{% for cname in iface.cnames %}
{{cname}} 	IN 	CNAME 	{{ iface.label }}
{% endfor %}
{% endif %}
{% endfor %}

{% endstore %}

{% store '/var/tmp/test-dns.console.out' %}

{% for iface in ifaces_lisa_consoles %}
{{ iface.label }}	IN	A	{{ iface.ip }}
{% if iface.cnames != None %}
{% for cname in iface.cnames %}
{{cname}} 	IN 	CNAME 	{{ iface.label }}
{% endfor %}
{% endif %}
{% endfor %}

{% endstore %}
{% store '/var/tmp/test-dns.infiniband.out' %}

{% for iface in ifaces_lisa_infiniband %}
{{ iface.label }}	IN	A	{{ iface.ip }}
{% if iface.cnames != None %}
{% for cname in iface.cnames %}
{{cname}} 	IN 	CNAME 	{{ iface.label }}
{% endfor %}
{% endif %}
{% endfor %}

{% endstore %}
{% store '/var/tmp/test-dns.switches.out' %}

{% for iface in ifaces_lisa_switches %}
{{ iface.label }}	IN	A	{{ iface.ip }}
{% if iface.cnames != None %}
{% for cname in iface.cnames %}
{{cname}} 	IN 	CNAME 	{{ iface.label }}
{% endfor %}
{% endif %}
{% endfor %}
{# {% endnoblanklines %} #}

{% endstore %}
